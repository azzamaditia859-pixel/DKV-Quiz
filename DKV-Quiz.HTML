<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DKV Challenge â€“ Uji Pengetahuanmu!</title>
    <style>
        /* CSS */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

        :root {
            --primary-light-purple: #C3B1E1; /* Ungu muda */
            --secondary-light-blue: #ADD8E6;  /* Biru muda */
            --accent-pink: #FFB6C1; /* Merah muda untuk timer */
            --text-dark: #333;
            --text-light: #fff;
            --score-capsule-bg: #800080; /* Ungu untuk skor */
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, var(--primary-light-purple) 0%, var(--secondary-light-blue) 100%);
            color: var(--text-dark);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            background-color: var(--text-light);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 450px;
            padding: 25px;
            box-sizing: border-box;
            transition: transform 0.3s ease-in-out;
        }

        /* Tampilan Awal */
        #start-screen {
            text-align: center;
            padding: 40px 20px;
        }

        #start-screen h1 {
            color: var(--score-capsule-bg);
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .start-button {
            background-color: var(--score-capsule-bg);
            color: var(--text-light);
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            box-shadow: 0 4px 15px rgba(128, 0, 128, 0.4);
        }

        .start-button:hover {
            background-color: #9932CC;
            transform: translateY(-2px);
        }

        /* Halaman Kuis */
        #quiz-screen {
            display: none;
            position: relative;
            min-height: 350px; 
            /* PERBAIKAN: Tambahkan padding bawah agar timer tidak menutupi opsi grid */
            padding-bottom: 50px; 
        }

        .header-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .score-capsule {
            background-color: var(--score-capsule-bg);
            color: var(--text-light);
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 1.1em;
            box-shadow: 0 2px 10px rgba(128, 0, 128, 0.3);
            z-index: 11; /* Pastikan skor terlihat */
        }

        .question-box {
            background-color: var(--secondary-light-blue);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
            transition: all 0.5s ease-in-out;
            min-height: 60px;
        }

        .question-box p {
            margin: 0;
            font-size: 1em;
            font-weight: 600;
            color: var(--text-dark);
        }

        .options-grid {
            display: grid;
            gap: 10px;
            margin-bottom: 5px; /* Sedikit margin sebelum padding bawah quiz-screen */
        }

        .option-button {
            background-color: var(--primary-light-purple);
            color: var(--text-light);
            border: none;
            padding: 12px;
            border-radius: 10px;
            text-align: left;
            font-size: 0.95em;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .option-button:hover:not(:disabled) {
            background-color: #B19CD9;
            transform: translateX(3px);
        }

        .option-button:disabled {
            cursor: default;
        }

        .correct {
            background-color: #4CAF50; /* Hijau */
            border: 2px solid #388E3C;
        }

        .incorrect {
            background-color: #F44336; /* Merah */
            border: 2px solid #D32F2F;
        }

        /* Timer di Pojok Kiri Bawah */
        .timer-display {
            /* PERBAIKAN: Tetap gunakan absolute, tapi quiz-screen sudah diberi padding-bottom */
            position: absolute;
            bottom: 10px; 
            left: 10px;
            background-color: var(--accent-pink);
            color: var(--text-dark);
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 10px rgba(255, 182, 193, 0.5);
            transition: all 0.3s ease;
            z-index: 10; /* Pastikan di atas tombol opsi */
        }

        .timer-display i {
            margin-right: 5px;
        }

        /* Halaman Hasil */
        #result-screen {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        #result-screen h2 {
            color: var(--score-capsule-bg);
            margin-bottom: 10px;
        }

        #final-score {
            font-size: 3em;
            font-weight: 700;
            color: var(--accent-pink);
            margin: 15px 0;
        }

        .retry-button {
            background-color: var(--secondary-light-blue);
            color: var(--text-dark);
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(173, 216, 230, 0.4);
        }

        .retry-button:hover {
            background-color: #9ac2d1;
            transform: translateY(-2px);
        }

        /* Animasi Transisi Halus (menggunakan transform untuk pergeseran) */
        .slide-out {
            transform: translateX(-100%);
            opacity: 0;
        }
        .slide-in {
            transform: translateX(100%);
            opacity: 0;
        }
        .animate-in {
            transform: translateX(0);
            opacity: 1;
        }

        /* Responsif untuk layar kecil (HP) */
        @media (max-width: 500px) {
            .container {
                width: 95%;
                padding: 20px;
            }
            #start-screen h1 {
                font-size: 1.5em;
            }
            .start-button {
                padding: 12px 25px;
                font-size: 1.1em;
            }
            .score-capsule, .timer-display {
                font-size: 1em;
            }
            .option-button {
                font-size: 0.9em;
            }
        }

    </style>
</head>
<body>
    <div class="container">

        <div id="start-screen">
            <h1>DKV Challenge â€“ Uji Pengetahuanmu! ðŸš€</h1>
            <p>Uji kemampuanmu dalam dasar-dasar Desain Komunikasi Visual (DKV).</p>
            <p>Total 5 soal acak dengan waktu 30 detik per soal.</p>
            <button class="start-button" onclick="startQuiz()">Mulai</button>
        </div>

        <div id="quiz-screen">
            <div class="header-bar">
                <div class="score-capsule">Skor: <span id="score">0</span></div>
            </div>

            <div class="question-box" id="question-text"></div>

            <div class="options-grid" id="options-container">
                </div>

            <div class="timer-display">
                <i class="fas fa-clock"></i> <span id="timer">30</span> detik
            </div>
        </div>

        <div id="result-screen">
            <h2>ðŸŽ‰ Kuis Selesai! ðŸŽ‰</h2>
            <p id="result-message"></p>
            <div id="final-score">0</div>
            <p>Jawaban Benar: <span id="correct-count">0</span> dari 5</p>
            <button class="retry-button" onclick="resetQuiz()">Coba Lagi</button>
        </div>

    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>

    <script>
        // JavaScript
        const allQuestions = [
            { q: "Apa fungsi utama teknik arsir dalam gambar?", a: "b", options: ["Menebalkan garis", "Memberi kesan bayangan dan volume", "Membuat warna lebih cerah", "Menentukan ukuran objek"] },
            { q: "Arsir yang dibuat dengan garis-garis saling menyilang disebut...", a: "b", options: ["Arsir sejajar", "Arsir silang", "Arsir blok", "Arsir tebal-tipis"] },
            { q: "Warna primer terdiri dari...", a: "a", options: ["Merah, kuning, biru", "Hijau, jingga, ungu", "Coklat, putih, hitam", "Abu-abu, biru, oranye"] },
            { q: "Warna sekunder didapat dari campuran dua warna...", a: "a", options: ["Primer", "Netral", "Pelengkap", "Tersier"] },
            { q: "Teknik pewarnaan yang menggunakan sapuan halus disebut...", a: "a", options: ["Blending", "Pointilisme", "Gradasi", "Tekstur"] },
            { q: "Gambar yang memiliki keseimbangan kiri dan kanan disebut...", a: "b", options: ["Asimetris", "Simetris", "Dinamis", "Perspektif"] },
            { q: "Gambar asimetris tetap terlihat seimbang karena...", a: "b", options: ["Warna yang sama rata", "Proporsi visual seimbang walau tidak sama bentuk", "Objek di tengah", "Ukuran kiri dan kanan sama"] },
            { q: "Teknik menggambar yang menggunakan titik-titik kecil adalah...", a: "c", options: ["Dussel", "Blok", "Pointilisme", "Gosok"] },
            { q: "Fungsi tekstur dalam gambar adalah...", a: "b", options: ["Menambah berat objek", "Memberikan kesan permukaan", "Membuat bayangan", "Menentukan arah cahaya"] },
            { q: "Warna yang saling berlawanan di roda warna disebut warna...", a: "c", options: ["Analog", "Netral", "Komplementer", "Sekunder"] },
            { q: "Komposisi gambar yang baik biasanya memiliki...", a: "b", options: ["Objek besar di tengah", "Keseimbangan, kesatuan, dan irama", "Garis tebal di semua sisi", "Warna mencolok"] },
            { q: "Contoh media kering untuk menggambar adalah...", a: "c", options: ["Cat air", "Krayon", "Pensil", "Cat minyak"] }, // Krayon juga media kering, tapi Pensil lebih umum dan termasuk di daftar 
            { q: "Contoh media basah untuk menggambar adalah...", a: "c", options: ["Pensil", "Spidol", "Cat air", "Kapur"] },
            { q: "Teknik menggambar dengan cara menggosok pensil untuk efek lembut disebut...", a: "a", options: ["Dussel", "Blok", "Arsir silang", "Tekstur"] },
            { q: "Warna yang dihasilkan dari campuran warna primer dan sekunder disebut...", a: "b", options: ["Sekunder", "Tersier", "Komplementer", "Analog"] },
            { q: "Unsur utama dalam karya desain komunikasi visual adalah...", a: "a", options: ["Bentuk, warna, dan garis", "Nada, suara, dan cahaya", "Ukuran, bahan, dan berat", "Gerak, waktu, dan ruang"] },
            { q: "Warna yang memberi kesan hangat adalah...", a: "b", options: ["Biru dan hijau", "Merah dan oranye", "Ungu dan biru", "Abu dan hitam"] },
            { q: "Warna dingin biasanya memberikan kesan...", a: "b", options: ["Ramai", "Tenang", "Panas", "Menyala"] },
            { q: "Tujuan utama dari komposisi dalam gambar adalah...", a: "b", options: ["Membuat objek terlihat ramai", "Menyusun elemen agar enak dilihat", "Menambah warna cemerlang", "Menentukan tekstur objek"] },
            { q: "Teknik blok dalam menggambar berarti...", a: "c", options: ["Memberi warna dengan gradasi", "Mengarsir dengan garis tebal-tipis", "Menutup bidang dengan satu warna penuh", "Memberi efek cahaya"] }
        ];
        
        const NUM_QUESTIONS = 5;
        const TIME_PER_QUESTION = 30;

        let selectedQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let correctAnswersCount = 0;
        let timer;
        let timeLeft = TIME_PER_QUESTION;
        
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const scoreDisplay = document.getElementById('score');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const timerDisplay = document.getElementById('timer');
        const finalScoreDisplay = document.getElementById('final-score');
        const resultMessage = document.getElementById('result-message');
        const correctCountDisplay = document.getElementById('correct-count');

        // Fungsi untuk mengacak soal
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Fungsi untuk memulai kuis
        function startQuiz() {
            // Setup Soal
            let shuffledQuestions = shuffleArray([...allQuestions]);
            selectedQuestions = shuffledQuestions.slice(0, NUM_QUESTIONS);
            
            // Reset State
            currentQuestionIndex = 0;
            score = 0;
            correctAnswersCount = 0;
            scoreDisplay.textContent = score;

            // Transisi Tampilan
            startScreen.style.display = 'none';
            quizScreen.style.display = 'block';

            // Tampilkan soal pertama
            loadQuestion();
        }

        // Fungsi untuk menampilkan soal
        function loadQuestion() {
            if (currentQuestionIndex >= NUM_QUESTIONS) {
                endQuiz();
                return;
            }

            const currentQ = selectedQuestions[currentQuestionIndex];
            
            // Animasi Transisi (Out)
            questionText.classList.add('slide-out');
            optionsContainer.classList.add('slide-out');

            setTimeout(() => {
                // Reset Animasi dan Tampilkan Konten Baru
                questionText.classList.remove('slide-out');
                optionsContainer.classList.remove('slide-out');
                questionText.classList.add('slide-in');
                optionsContainer.classList.add('slide-in');

                questionText.innerHTML = `<p>${currentQuestionIndex + 1}. ${currentQ.q}</p>`;
                optionsContainer.innerHTML = '';

                // Buat tombol opsi
                const optionLetters = ['a', 'b', 'c', 'd'];
                currentQ.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.className = 'option-button';
                    button.textContent = `${optionLetters[index]}. ${option}`;
                    button.setAttribute('data-answer', optionLetters[index]);
                    button.onclick = () => checkAnswer(button, optionLetters[index], currentQ.a);
                    optionsContainer.appendChild(button);
                });

                // Reset dan Mulai Timer
                startTimer();
                
                // Animasi Transisi (In)
                setTimeout(() => {
                    questionText.classList.remove('slide-in');
                    optionsContainer.classList.remove('slide-in');
                    questionText.classList.add('animate-in');
                    optionsContainer.classList.add('animate-in');
                }, 10);
                
            }, 300); // Durasi Animasi
        }
        
        // Fungsi untuk memulai timer
        function startTimer() {
            clearInterval(timer); // Pastikan timer sebelumnya dihentikan
            timeLeft = TIME_PER_QUESTION;
            timerDisplay.textContent = timeLeft;

            timer = setInterval(() => {
                timeLeft--;
                timerDisplay.textContent = timeLeft;

                if (timeLeft <= 0) {
                    clearInterval(timer);
                    // Langsung pindah soal tanpa skor
                    nextQuestion();
                }
            }, 1000);
        }

        // Fungsi untuk memeriksa jawaban
        function checkAnswer(selectedButton, userAnswer, correctAnswer) {
            clearInterval(timer); // Hentikan timer
            disableOptions(); // Nonaktifkan semua tombol opsi

            let isCorrect = userAnswer === correctAnswer;

            // Beri warna pada tombol yang dipilih
            selectedButton.classList.add(isCorrect ? 'correct' : 'incorrect');

            // Jika salah, tandai jawaban yang benar (opsional, tapi informatif)
            if (!isCorrect) {
                 const correctOptionButton = optionsContainer.querySelector(`[data-answer="${correctAnswer}"]`);
                 if (correctOptionButton) {
                     correctOptionButton.classList.add('correct');
                 }
            }

            if (isCorrect) {
                score += 20; // Skor 20 untuk setiap jawaban benar (Total 5 soal * 20 = 100)
                correctAnswersCount++;
                scoreDisplay.textContent = score;
            }

            // Lanjut ke soal berikutnya setelah jeda visual
            setTimeout(nextQuestion, 1000); 
        }

        // Fungsi untuk menonaktifkan opsi
        function disableOptions() {
            optionsContainer.querySelectorAll('.option-button').forEach(button => {
                button.disabled = true;
            });
        }

        // Fungsi untuk lanjut ke soal berikutnya
        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion();
        }

        // Fungsi untuk mengakhiri kuis
        function endQuiz() {
            quizScreen.style.display = 'none';
            resultScreen.style.display = 'block';

            finalScoreDisplay.textContent = score;
            correctCountDisplay.textContent = correctAnswersCount;

            let message = "";
            let emoji = "";

            if (score === 100) {
                message = "Sempurna! Kamu adalah Master DKV! ðŸ‘‘âœ¨";
                emoji = "ðŸ’¯";
            } else if (score >= 60) {
                message = "Bagus sekali! Pemahaman DKV-mu kuat. ðŸ’ª";
                emoji = "ðŸ‘";
            } else if (score >= 20) {
                message = "Cukup baik, tapi masih banyak yang bisa dipelajari. ðŸ˜‰";
                emoji = "ðŸ“š";
            } else {
                message = "Jangan menyerah! Ayo pelajari dasar-dasar DKV lagi. ðŸ˜”";
                emoji = "âœï¸";
            }

            resultMessage.textContent = `${message} (Skor Akhir: ${score}/100) ${emoji}`;
        }
        
        // Fungsi untuk mereset kuis
        function resetQuiz() {
            clearInterval(timer); // Pastikan timer mati
            resultScreen.style.display = 'none';
            startScreen.style.display = 'block';
            // StartQuiz akan menangani semua reset state lainnya saat tombol "Mulai" diklik
        }

        // Inisialisasi awal
        document.addEventListener('DOMContentLoaded', () => {
            // Tidak perlu inisialisasi apa-apa selain memastikan tampilan awal yang muncul
        });
    </script>
</body>
</html>